<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos Académicos</title>
    <link rel="stylesheet" href="styles/datos_academicos.css">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="profile">
                <img src="images/profile.png" alt="Profile Picture" class="profile-img">
                <h2 id="studentName"></h2>
                <p id="studentGrade">3er grado</p>
            </div>
            <nav>
                <ul>
                    <li><a href="/datos_academicos.html">Datos académicos</a></li>
                    <li><a href="/horario.html">Horario</a></li>
                    <li><a href="/calificaciones.html">Calificaciones</a></li>
                    <li><a href="/solicitar_documentos.html">Solicitar documentos</a></li>
                </ul>
            </nav>
        </div>
        <div class="main-content">
            <header>
                <img src="images/school_logo.png" alt="School Logo" class="school-logo">
                <div class="header-text">
                    <h1>ESCUELA SECUNDARIA "ISAAC NEWTON"</h1>
                    <h2 class="subheader">Datos Académicos</h2>
                </div>
                <img src="images/SAC.png" alt="SAC Logo" class="sac-logo">
            </header>
            <div class="content">
                <section class="student-info">
                    <div>
                        <p><strong>Nombre:</strong> <span id="nombre"></span></p>
                        <p><strong>Apellidos:</strong> <span id="apellidos"></span></p>
                        <p><strong>CURP:</strong> <span id="curp"></span></p>
                        <p><strong>Boleta:</strong> <span id="boleta"></span></p>
                        <p><strong>Plantel:</strong> Isaac Newton</p>
                    </div>
                    <div>
                        <img src="images/default-profile.png" alt="Profile Picture" class="profile-img-small">
                    </div>
                </section>
                <section class="academic-info">
                    <div>
                        <p><strong>Promedio:</strong> X.XX</p>
                        <p><strong>Grado:</strong> 2°</p>
                        <p><strong>Grupo:</strong> B</p>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                const response = await fetch('/api/usuarios');
                const usuarios = await response.json();

                if (usuarios.length > 0) {
                    const usuario = usuarios[0]; // Suponiendo que deseas mostrar el primer usuario
                    document.getElementById('nombre').textContent = usuario.nombre;
                    document.getElementById('apellidos').textContent = usuario.apellidos;
                    document.getElementById('curp').textContent = usuario.curp || 'N/A';
                    document.getElementById('boleta').textContent = usuario.boleta || 'N/A';
                }
            } catch (error) {
                console.error('Error fetching usuarios:', error);
            }
        });
    </script>
</body>
</html>
